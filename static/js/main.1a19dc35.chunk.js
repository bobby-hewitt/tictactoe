(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,function(e,t,n){e.exports=n(22)},,,,,function(e,t,n){},,function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var s=n(0),i=n.n(s),o=n(7),r=n.n(o),a=(n(13),n(1)),c=n(2),l=n(4),h=n(3),p=n(5),u=(n(15),n(16),n(18),n(20),function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(l.a)(this,Object(h.a)(t).call(this,e))).state={content:0},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"onClick",value:function(){this.props.onClick(this.props.index)}},{key:"componentWillReceiveProps",value:function(e){0===this.props.content&&1===e.content?this.setState({content:1}):0===this.props.content&&2===e.content?this.setState({content:2}):0!==this.props.content&&0===e.content&&this.setState({content:0})}},{key:"render",value:function(){return i.a.createElement("div",{className:"square",onClick:this.onClick.bind(this),style:{borderColor:this.props.color}},i.a.createElement("div",{className:this.props.isWinningLine?"svgContainer1 winner":"svgContainer1"},i.a.createElement("svg",{height:this.props.size,width:this.props.size},i.a.createElement("circle",{className:1===this.state.content?"filled path":"path",cx:this.props.size/2,cy:this.props.size/2,r:this.props.size/4,stroke:this.props.color,strokeWidth:"4",fill:"transparent"}))),i.a.createElement("div",{className:this.props.isWinningLine?"svgContainer2 winner":"svgContainer2"},i.a.createElement("svg",{height:this.props.size/2,width:this.props.size/2},i.a.createElement("line",{className:2===this.state.content?"filled path":"path",x1:"0",y1:"0",x2:this.props.size/2,y2:this.props.size/2,strokeWidth:"4",stroke:this.props.color}),i.a.createElement("line",{className:2===this.state.content?"filled path2":"path2",x1:this.props.size/2,y1:"0",x2:"0",y2:this.props.size/2,strokeWidth:"4",stroke:this.props.color}))))}}]),t}(s.Component)),f=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(l.a)(this,Object(h.a)(t).call(this,e))).state={s:[0,0,0,0,0,0,0,0,0],playerTurn:!1,playerFirst:!1},n.lines=[[0,3,6],[1,4,7],[2,5,8],[0,1,2],[3,4,5],[6,7,8],[0,4,8],[2,4,6]],n.linesWithIndexes=[[0,3,6],[1,3],[2,3,7],[0,4],[1,4],[2,4],[0,5,7],[1,5][6]],n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.startGame()}},{key:"startGame",value:function(){var e=this;console.log("starting game"),this.setState({s:[0,0,0,0,0,0,0,0,0],isDefence:!1,playerFirst:!this.state.playerFirst,playerTurn:!this.state.playerFirst},function(){e.state.playerTurn||e.computerTurn()})}},{key:"onClick",value:function(e){var t=this;if(this.state.playerTurn&&0===this.state.s[e]){var n=this.state.s.indexOf(1)<0&&(0===e||2===e||6===e||8===e);this.state.s[e]=2;var s={s:this.state.s,playerTurn:!1};n&&(s.isDefence=!0),this.setState(s,function(){if(t.checkLines(2).indexOf(3)>-1)return console.log(t.lines,t.checkLines(2).indexOf(3),t.lines[t.checkLines(2).indexOf(3)]),void t.onWin(t.checkLines(2).indexOf(3));setTimeout(function(){t.state.s.indexOf(0)<0?(console.log("should be the end"),t.startGame()):t.computerTurn()},1e3)})}}},{key:"onWin",value:function(e){var t=this;console.log("on win",e),e=e.length>1?e[0]:e,console.log("on win after adjustment",e),this.st(this.lines[e][0],300),this.st(this.lines[e][1],600),this.st(this.lines[e][2],900),this.st(null,1200),setTimeout(function(){t.startGame()},2e3)}},{key:"st",value:function(e,t){var n=this;setTimeout(function(){n.setState({isWinner:e})},t)}},{key:"checkLines",value:function(e,t){var n=t||this.state.s;console.log("checking lines",t);for(var s=[],i=0;i<this.lines.length;i++){for(var o=0,r=0;r<this.lines[i].length;r++)n[this.lines[i][r]]==e&&(o+=1);s.push(o)}return s}},{key:"computerTurn",value:function(){var e=this;function t(){return new Promise(function(t,n){for(var s=[],i=0;i<e.state.s.length;i++)0===e.state.s[i]&&s.push(i);var o=s[Math.floor(Math.random()*s.length)],r=[];for(i=0;i<e.state.s.length;i++)r.push(e.state.s[i]);console.log(r),console.log("index",o),r[o]=1,console.log(r);var a=e.checkLines(1,r);console.log(a),a.indexOf(3)>-1?(console.log("random move has won it"),t({index:o,hasWon:a.indexOf(3)})):t({index:o,hasWon:!1})})}function n(t,n,s){console.log("has won in take turn",s);var i=e.state.s;i[t]=1;var o={s:i,playerTurn:!0};n&&(o.isDefence=!1),e.setState(o,function(){if(s||0===s)return e.onWin(s);e.state.s.indexOf(0)<0&&setTimeout(function(){e.startGame()},300)})}function s(e,t){for(var n=[],s=-1;-1!=(s=e.indexOf(t,s+1));)n.push(s);return n}function i(t){var s=0===e.state.s[8]?8:0===e.state.s[6]?6:0===e.state.s[2]?2:0===e.state.s[0]&&0;if(!s&&0!==s||t)return!(!s&&0!==s);n(s)}function o(t,s){for(var i=0;i<t.length;i++)for(var o=0;o<e.lines[t[i]].length;o++){if(0===e.state.s[e.lines[t[i]][o]])return n(e.lines[t[i]][o],!0),!0}return!!s&&t}!function(){var r=s(e.checkLines(1),2),a=s(e.checkLines(2),2);Math.random()>e.props.skill?(console.log("is random"),t().then(function(e){n(e.index,!1,e.hasWon)})):r.length>0&&o(r)?(console.log("won on strategy"),e.onWin(o(s(e.checkLines(1),3),!0))):a.length>0&&o(a)?console.log("blocked player"):e.state.isDefence&&0===e.state.s[4]?(console.log("going in middle"),n(4,!1)):e.state.isDefence?(console.log("should go next to em"),n(function(){for(var t=e.state.s.indexOf(2),n=0;n<e.lines.length;n++){var s=e.lines[n].indexOf(t);if(s>-1){var i=1===s?2:1;return e.lines[n][i]}}}(),!0)):i(!0)?(console.log("going in a corner"),i()):t().then(function(e){n(e.index,!1,e.hasWon)})}()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"outerBoard",style:{width:this.props.size-(Math.floor(this.props.size/100)+7)+"px",height:this.props.size-(Math.floor(this.props.size/100)+7)+"px"}},i.a.createElement("div",{className:"board",style:{width:this.props.size+"px",height:this.props.size+"px"}},this.state.s.map(function(t,n){return i.a.createElement(u,{color:e.props.color,size:Math.floor(e.props.size/3),isWinningLine:n===e.state.isWinner,onClick:e.onClick.bind(e),index:n,key:n,content:t})})))}}]),t}(s.Component);f.defaultProps={size:300,skill:0,color:"#101010"};var d=function(e){function t(){return Object(a.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(f,{color:"#ebebeb"}))}}]),t}(s.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(d,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[8,2,1]]]);
//# sourceMappingURL=main.1a19dc35.chunk.js.map